# METTA DOcker

The docker integration focuses on providing a docker client plugin which can
give access to a docker daemon.

The plugin extends the common docker python SDK and behaves like the APIClient,
although it is constructed slightly different.

## Client

The plugin extends the common docker python SDK and behaves like the APIClient,
although it is constructed slightly different.

### Using it

A client is typicall generated by a provisioner. In such cases, ask a provisioner
for the docker client.  If it is able to create that type of plugin then it will
give you the plugin alread configured to be used.

```
logger = logging.getLogger("test_clients")

def test_docker_client(environment):
    """ did we get a good docker client ?"""

    logger.info("Getting docker client")
    docker_client = environment.get_plugin(type:metta.plugin.Type.CLIENT,
        plugin_id="metta_docker")

    ps = docker_client.containers.list()

    assert len(ps), "No containers were running.  We expected at least the MKE containers"
    assert isinstance(ps[0], docker.models.containers.Container), "Did not get a container object from docker list"

```
